2021-09-22: Add external attributes.

See external_attrs branch for unsquashed commits.

- Add support for 24-bit underline colors - Fix filtering on
empty string - Fix a bug in filtering where streaming with
an empty query didn't work - ARCify LineBlock, ScreenChar -
Delete dead code - Move ScreenCharArray to its own file

2021-09-15: Add hasMetadata bit to screen_char_t

2021-09-15: Wrap per-line timestamp in a metadata structure
to make it possible to extend

2021-09-15: Add API to enumerate lines in VT100Screen

2021-09-15: Fix a dumb oops

2021-09-15: Fix tooltip on paste bracketing checkbox

2021-09-13: Remove reference to HelloWorld.swift

2021-09-13: Tweak vertical position of labels in open
quickly table cell

2021-09-13: Fix open quickly and shell integration windows
on macOS 12. Don't override allowsVibrancy on
NSVisualEffectView subclasses.

2021-09-13: Prevent reentrant splitViewDidResizeSubviews in
iTermToolbeltView

2021-09-13: Ensure TextViewWrapper's frame is at least as
tall as its enclosing scroll view's content size. Issue 9799

2021-09-11: Reverse index in search field when not swapping
search direction. Issue 9902

2021-09-10: Remove search results on screen when the whole
grid is marked dirty. We did this when an individual line
was dirty, so it makes sense to do it for the whole screen
too. It fixes a bug where switching from alt screen to main
screen leaves the now-invisible search results behind. Issue
9892, commentt written 9/9/21 11:38am PDT

2021-09-10: Add more debug logging for issue 9286

2021-09-09: Fix warnings

2021-09-09: Add support for html style colors in OSC 4 and
friends

2021-09-09: Add support for OSC codes: 12, 17, 19, 104, 110,
111, 112, 117, 119. Issue 9909

2021-09-08: Add debug logging for first mouse issue 9905

2021-09-07: Do not reset the find cursor when a search
fails. Issue 9892

2021-09-07: [python] Bump version

2021-09-07: Add optional window_id argument to
Arrangement.async_restore. Issue 9903

2021-09-07: Update open quickly UI to look more like Xcode
12

2021-09-07: Make up and down arrow and ^P/^N wrap around in
open quickly window

2021-09-07: Fix a bug where row highlighting  when
navigating marks/annotations didn't work with legacy
renderer. Issue 9898

2021-09-07: Save scroll position and search query when
entering zoom and restore it when leaving.

2021-09-07: Allow metal to be enabled on terminated
sessions. Fixes a bug where scrolling does not update the
view. The bug was introduced by
72b2f8dd29253d19d982a4e949a598d81bbc0d99 in an attempt to
reduce unecessary drawing of a terminated session. I'm not
able to reproduce that now and it was obviously wrong. This
commit changes it to test for a missing window instead,
which is almost certainly never going to happen. Issue 9836.

2021-09-07: Improve debug logging for scrolling

2021-09-06: Fix warning

2021-09-06: Remove AddressBook.framework as a dependency

2021-09-06: Remove bogus link search path and fix warning in
test target

2021-09-06: Increase deployment target of iTermXCTests to
10.15 to pacify xcode

2021-09-06: Fix warnings

2021-09-06: Fix warnings

2021-09-06: Fix warnings

2021-09-06: Fix a bug where the search field in the status
bar would have a blinking cursor when not first responder

2021-09-06: Fix warnings

2021-09-06: Make status bar filter text field suppress
hotbox and use filter icon in 11.0+

2021-09-06: Fix warning about duplicate menu item identifier

2021-09-06: [python API] Fix a bug where the tab's tmux
connection ID was not set. Issue 9889

2021-09-06: Add applicationKeypad variable

2021-09-06: Fix bugs in filtering

2021-09-02: Filter on raw lines, not wrapped lines.

2021-09-02: Make TextViewWrapper opaque when any annotation
is visible. This costs a bit of performance but unbreaks
annotations

2021-09-02: Add support for filtering.

See the filter branch for individual commits.

2021-08-29: Increase max size of debug log to 1 gig. Add
debug logging for issue 9286

2021-08-28: Prevent appkit from resizing the window so that
the width adjustment made to account for a change in
scrollbar style (overlay vs legacy) since the windows were
saved. This happens when restarting and restoring windows.
Issue 9877

2021-08-28: Add support for HTML logs. See mailing list
thread with subject line 'weird characters in log session'

2021-08-27: Improve bsd version number futureproofing

2021-08-27: Use refresh-client instead of resize-window on
tmux 3.4/7.1. See https://github.com/tmux/tmux/issues/2594

2021-08-27: Add advanced pref to disable indicators. Issue
9888

2021-08-26: Call updateLayout when setting the scrollview's
document view from nil to nonnil. The legacy view's frame
will be 0x0 until there is a document view. Issue 9871

2021-08-26: Fix fullHeightCursor with larger than 100% line
spacing. Issue 9887

2021-08-26: Terminate buried sessions when quitting the app.
Issue 9880

2021-08-26: Increase the threshold for continuing a
switch-tab swipe after releasing. Issue 9745

2021-08-25: Add retry logic to nightly.sh to work around
mysterious network problems at midnight

2021-08-25: Don't remove a fd from TaskNotifier when we get
a Terminate notification from iTermServer. It races against
the last reads from its file descriptor and can cause the
last bit of output to be lost. I think. Issue 9873

2021-08-24: Don't record call stacks for timers by default
to improve performance

2021-08-24: Bump max texture size to 16k. Issue 9850

2021-08-24: Fix vertical offset of cursor when
fullHeightCursor is enabled and vspacing is not zero

2021-08-24: Fix vertical cursor height (#451)

The GPU renderer drew the vertical line cursor differently
than the legacy renderer when vertical spacing was adjusted.
2021-08-24: When an 'add tab' button is visible draw the
line dividing it from the terminal content all the way to
the right edge

2021-08-19: Remove Nix, which no longer builds because you
can't have both sandboxing and no code signing. Issue 9868

2021-08-17: Add hacked xterm, xterm-256color, and xterm-new
with Smulx. Issue 6382.

Set TERMINFO_DIRS to point at my hacked terminfo files. This
makes neovim support undercurl.

2021-08-17: Improve debug logging

2021-08-16: Optimize mouseMoved code when mouse reporting is
off and there is no highlight to reduce CPU usage. Issue
9867

2021-08-15: Select pane, tab, and window when tmux reports
the selected pane/window changed. Issue 9832.

When the active session changes in an inactive tab, remember
that and make it active when the tab is selected.

When tmux reports a selected window change select the
corresponding tab. Make the window key & front.

2021-08-14: Jiggle when foreground or background color
change. Issue 9855

2021-08-14: Send modifiers for delete, page up, and page
down for 'standard' terminals. For terminals we don't
recognize just use terminfo (or the weird hacks existed
before). Also ARCify and do minor cleanup on VT100Output.m.
This is a first step toward making VT100Output sane. Issue
9849

2021-08-14: Make the write end of the tmux pipe nonblocking
to avoid dropping data. Issue 9684

2021-08-14: Fix build break

2021-08-13: Another try at improving changing key reporting
modes. Issue 9770 (lots more detail there)

* `CSI > 5 ; x m` now erases the stack and sets the mode.  *
There's now a separate stack of key modes for main vs alt
screen.  * Allow apps to change key reporting mode pref now
affects CSI u.  * `CSI > 1 u` enters CSI u mode.  * ARCify
VT100Terminal

2021-08-13: Report vt220 in secondary device attribute
response

2021-08-11: Cache highlight trigger colors to reduce time
spent parsing strings. Issue 9776

2021-08-10: Terminate background color report with ST
instead of BEL so emacs can comprehend it. Because the xterm
version is now at least 242 emacs requests the background
color

2021-08-10: Bump reported xterm version to 314. Add support
for XTGETTCAP since vim needs it

2021-08-08: Restore tmux's SGR mouse reporting state. Also
don't store user vars in tmux prior to 3.1 since it doesn't
seem to work (show-options has no -p). Issue 9827

2021-08-08: Skip over DWC_RIGHT in augmented string before
appending when the cursor's initial position is over a
DWC_RIGHT (in which case predecessorIsDoubleWidth would be
false). Issue 9852

2021-08-05: Don't try to report mouse events to a dead
session. This lets the scroll wheel scroll after a broken
pipe. Issue 9836

2021-08-05: Limit pidinfo cpu usage to 50%. Issue 9839

2021-08-03: Improve legibility of non-selected tab labels in
Minimal. Issue 9833

2021-08-02: Make a double-click on the tab bar respect the
system titlebar doubleclick setting. Issue 9821

2021-08-01: Make broadcast to all x a toggle. Issue 9105

2021-08-01: Show help text when you click on an indicator
